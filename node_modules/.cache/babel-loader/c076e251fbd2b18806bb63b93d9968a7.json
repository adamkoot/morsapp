{"ast":null,"code":"import _toConsumableArray from\"D:/Studia/semestr 5/BIU/projekt1-MarcinRozkwitalski/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"D:/Studia/semestr 5/BIU/projekt1-MarcinRozkwitalski/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect,useRef}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Question=function Question(_ref){var data=_ref.data,onAnswerUpdate=_ref.onAnswerUpdate,numberOfQuestions=_ref.numberOfQuestions,activeQuestion=_ref.activeQuestion,onSetActiveQuestion=_ref.onSetActiveQuestion,onSetStep=_ref.onSetStep;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),selected=_useState2[0],setSelected=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),error=_useState4[0],setError=_useState4[1];var radiosWrapper=useRef();useEffect(function(){var findCheckedInput=radiosWrapper.current.querySelector('input:checked');if(findCheckedInput){findCheckedInput.checked=false;}},[data]);var changeHandler=function changeHandler(e){setSelected(e.target.value);if(error){setError('');}};var nextClickHandler=function nextClickHandler(e){if(selected===''){return setError('Please select one option!');}onAnswerUpdate(function(prevState){return[].concat(_toConsumableArray(prevState),[{q:data.question,a:selected}]);});setSelected('');if(activeQuestion<numberOfQuestions-1){onSetActiveQuestion(activeQuestion+1);}else{onSetStep(3);}};return/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card-content\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"content\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"mb-5\",children:data.question}),/*#__PURE__*/_jsx(\"div\",{className:\"control\",ref:radiosWrapper,children:data.choices.map(function(choice,i){return/*#__PURE__*/_jsxs(\"label\",{className:\"radio has-background-light\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"answer\",value:choice,onChange:changeHandler}),choice]},i);})}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"has-text-danger\",children:error}),/*#__PURE__*/_jsx(\"button\",{className:\"button is-link is-medium is-fullwidth mt-4\",onClick:nextClickHandler,children:\"Next\"})]})})});};export default Question;","map":{"version":3,"sources":["D:/Studia/semestr 5/biu/projekt1-MarcinRozkwitalski/src/components/Question.js"],"names":["React","useState","useEffect","useRef","Question","data","onAnswerUpdate","numberOfQuestions","activeQuestion","onSetActiveQuestion","onSetStep","selected","setSelected","error","setError","radiosWrapper","findCheckedInput","current","querySelector","checked","changeHandler","e","target","value","nextClickHandler","prevState","q","question","a","choices","map","choice","i"],"mappings":"4VAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,CAAqCC,MAArC,KAAmD,OAAnD,C,wFAEA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,MAAiG,IAA9FC,CAAAA,IAA8F,MAA9FA,IAA8F,CAAxFC,cAAwF,MAAxFA,cAAwF,CAAxEC,iBAAwE,MAAxEA,iBAAwE,CAArDC,cAAqD,MAArDA,cAAqD,CAArCC,mBAAqC,MAArCA,mBAAqC,CAAhBC,SAAgB,MAAhBA,SAAgB,eAC9ET,QAAQ,CAAC,EAAD,CADsE,wCACvGU,QADuG,eAC7FC,WAD6F,8BAEpFX,QAAQ,CAAC,EAAD,CAF4E,yCAEvGY,KAFuG,eAEhGC,QAFgG,eAG9G,GAAMC,CAAAA,aAAa,CAAGZ,MAAM,EAA5B,CAEAD,SAAS,CAAC,UAAM,CACZ,GAAMc,CAAAA,gBAAgB,CAAGD,aAAa,CAACE,OAAd,CAAsBC,aAAtB,CAAoC,eAApC,CAAzB,CACA,GAAGF,gBAAH,CAAqB,CACjBA,gBAAgB,CAACG,OAAjB,CAA2B,KAA3B,CACH,CACJ,CALQ,CAKN,CAACd,IAAD,CALM,CAAT,CAOA,GAAMe,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAACC,CAAD,CAAO,CACzBT,WAAW,CAACS,CAAC,CAACC,MAAF,CAASC,KAAV,CAAX,CACA,GAAGV,KAAH,CAAU,CACNC,QAAQ,CAAC,EAAD,CAAR,CACH,CACJ,CALD,CAOA,GAAMU,CAAAA,gBAAgB,CAAG,QAAnBA,CAAAA,gBAAmB,CAACH,CAAD,CAAO,CAC5B,GAAGV,QAAQ,GAAK,EAAhB,CAAoB,CAChB,MAAOG,CAAAA,QAAQ,CAAC,2BAAD,CAAf,CACH,CACDR,cAAc,CAAC,SAAAmB,SAAS,qCAAQA,SAAR,GAAmB,CAAEC,CAAC,CAAErB,IAAI,CAACsB,QAAV,CAAoBC,CAAC,CAAEjB,QAAvB,CAAnB,IAAV,CAAd,CACAC,WAAW,CAAC,EAAD,CAAX,CACA,GAAGJ,cAAc,CAAGD,iBAAiB,CAAG,CAAxC,CAA2C,CACvCE,mBAAmB,CAACD,cAAc,CAAG,CAAlB,CAAnB,CACH,CAFD,IAEM,CACFE,SAAS,CAAC,CAAD,CAAT,CACH,CACJ,CAXD,CAaA,mBACI,YAAK,SAAS,CAAC,MAAf,uBACI,YAAK,SAAS,CAAC,cAAf,uBACI,aAAK,SAAS,CAAC,SAAf,wBACI,WAAI,SAAS,CAAC,MAAd,UAAsBL,IAAI,CAACsB,QAA3B,EADJ,cAEI,YAAK,SAAS,CAAC,SAAf,CAAyB,GAAG,CAAEZ,aAA9B,UACKV,IAAI,CAACwB,OAAL,CAAaC,GAAb,CAAiB,SAACC,MAAD,CAASC,CAAT,qBACd,eAAO,SAAS,CAAC,4BAAjB,wBACI,cAAO,IAAI,CAAC,OAAZ,CAAoB,IAAI,CAAC,QAAzB,CAAkC,KAAK,CAAED,MAAzC,CAAiD,QAAQ,CAAEX,aAA3D,EADJ,CAEKW,MAFL,GAAmDC,CAAnD,CADc,EAAjB,CADL,EAFJ,CAUKnB,KAAK,eAAI,YAAK,SAAS,CAAC,iBAAf,UAAkCA,KAAlC,EAVd,cAWI,eAAQ,SAAS,CAAC,4CAAlB,CAA+D,OAAO,CAAEW,gBAAxE,kBAXJ,GADJ,EADJ,EADJ,CAmBH,CAnDD,CAqDA,cAAepB,CAAAA,QAAf","sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\n\r\nconst Question = ({ data, onAnswerUpdate, numberOfQuestions, activeQuestion, onSetActiveQuestion, onSetStep }) => {\r\n    const [selected, setSelected] = useState('');\r\n    const [error, setError] = useState('');\r\n    const radiosWrapper = useRef();\r\n\r\n    useEffect(() => {\r\n        const findCheckedInput = radiosWrapper.current.querySelector('input:checked');\r\n        if(findCheckedInput) {\r\n            findCheckedInput.checked = false;\r\n        }\r\n    }, [data]);\r\n\r\n    const changeHandler = (e) => {\r\n        setSelected(e.target.value);\r\n        if(error) {\r\n            setError('');\r\n        }\r\n    }\r\n\r\n    const nextClickHandler = (e) => {\r\n        if(selected === '') {\r\n            return setError('Please select one option!');\r\n        }\r\n        onAnswerUpdate(prevState => [...prevState, { q: data.question, a: selected }]);\r\n        setSelected('');\r\n        if(activeQuestion < numberOfQuestions - 1) {\r\n            onSetActiveQuestion(activeQuestion + 1);\r\n        }else {\r\n            onSetStep(3);\r\n        }\r\n    }\r\n\r\n    return(\r\n        <div className=\"card\">\r\n            <div className=\"card-content\">\r\n                <div className=\"content\">\r\n                    <h2 className=\"mb-5\">{data.question}</h2>\r\n                    <div className=\"control\" ref={radiosWrapper}>\r\n                        {data.choices.map((choice, i) => (\r\n                            <label className=\"radio has-background-light\" key={i}>\r\n                                <input type=\"radio\" name=\"answer\" value={choice} onChange={changeHandler} />\r\n                                {choice}\r\n                            </label>\r\n                        ))}\r\n                    </div>\r\n                    {error && <div className=\"has-text-danger\">{error}</div>}\r\n                    <button className=\"button is-link is-medium is-fullwidth mt-4\" onClick={nextClickHandler}>Next</button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Question;"]},"metadata":{},"sourceType":"module"}