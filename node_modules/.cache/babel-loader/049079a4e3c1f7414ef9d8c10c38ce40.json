{"ast":null,"code":"var _jsxFileName = \"D:\\\\Studia\\\\semestr 5\\\\biu\\\\projekt1-MarcinRozkwitalski\\\\src\\\\components\\\\Question.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useRef } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Question = ({\n  data,\n  onAnswerUpdate,\n  numberOfQuestions,\n  activeQuestion,\n  onSetActiveQuestion,\n  onSetStep\n}) => {\n  _s();\n\n  const [selected, setSelected] = useState('');\n  const [error, setError] = useState('');\n  const radiosWrapper = useRef();\n  useEffect(() => {\n    const findCheckedInput = radiosWrapper.current.querySelector('input:checked');\n\n    if (findCheckedInput) {\n      findCheckedInput.checked = false;\n    }\n  }, [data]);\n\n  const changeHandler = e => {\n    setSelected(e.target.value);\n\n    if (error) {\n      setError('');\n    }\n  };\n\n  const nextClickHandler = e => {\n    if (selected === '') {\n      return setError('Please select one option!');\n    }\n\n    onAnswerUpdate(prevState => [...prevState, {\n      q: data.question,\n      a: selected\n    }]);\n    setSelected('');\n\n    if (activeQuestion < numberOfQuestions - 1) {\n      onSetActiveQuestion(activeQuestion + 1);\n    } else {\n      onSetStep(3);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"card\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card-content\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"content\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"mb-5\",\n          children: data.question\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"control\",\n          ref: radiosWrapper,\n          children: data.choices.map((choice, i) => /*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"radio has-background-light\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"radio\",\n              name: \"answer\",\n              value: choice,\n              onChange: changeHandler\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 43,\n              columnNumber: 33\n            }, this), choice]\n          }, i, true, {\n            fileName: _jsxFileName,\n            lineNumber: 42,\n            columnNumber: 29\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 21\n        }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"has-text-danger\",\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 31\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"button is-link is-medium is-fullwidth mt-4\",\n          onClick: nextClickHandler,\n          children: \"Next\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Question, \"+/ZssqJjrsrT42+AEGAK3G2o/Mc=\");\n\n_c = Question;\nexport default Question;\n\nvar _c;\n\n$RefreshReg$(_c, \"Question\");","map":{"version":3,"sources":["D:/Studia/semestr 5/biu/projekt1-MarcinRozkwitalski/src/components/Question.js"],"names":["React","useState","useEffect","useRef","Question","data","onAnswerUpdate","numberOfQuestions","activeQuestion","onSetActiveQuestion","onSetStep","selected","setSelected","error","setError","radiosWrapper","findCheckedInput","current","querySelector","checked","changeHandler","e","target","value","nextClickHandler","prevState","q","question","a","choices","map","choice","i"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\n\r\nconst Question = ({ data, onAnswerUpdate, numberOfQuestions, activeQuestion, onSetActiveQuestion, onSetStep }) => {\r\n    const [selected, setSelected] = useState('');\r\n    const [error, setError] = useState('');\r\n    const radiosWrapper = useRef();\r\n\r\n    useEffect(() => {\r\n        const findCheckedInput = radiosWrapper.current.querySelector('input:checked');\r\n        if(findCheckedInput) {\r\n            findCheckedInput.checked = false;\r\n        }\r\n    }, [data]);\r\n\r\n    const changeHandler = (e) => {\r\n        setSelected(e.target.value);\r\n        if(error) {\r\n            setError('');\r\n        }\r\n    }\r\n\r\n    const nextClickHandler = (e) => {\r\n        if(selected === '') {\r\n            return setError('Please select one option!');\r\n        }\r\n        onAnswerUpdate(prevState => [...prevState, { q: data.question, a: selected }]);\r\n        setSelected('');\r\n        if(activeQuestion < numberOfQuestions - 1) {\r\n            onSetActiveQuestion(activeQuestion + 1);\r\n        }else {\r\n            onSetStep(3);\r\n        }\r\n    }\r\n\r\n    return(\r\n        <div className=\"card\">\r\n            <div className=\"card-content\">\r\n                <div className=\"content\">\r\n                    <h2 className=\"mb-5\">{data.question}</h2>\r\n                    <div className=\"control\" ref={radiosWrapper}>\r\n                        {data.choices.map((choice, i) => (\r\n                            <label className=\"radio has-background-light\" key={i}>\r\n                                <input type=\"radio\" name=\"answer\" value={choice} onChange={changeHandler} />\r\n                                {choice}\r\n                            </label>\r\n                        ))}\r\n                    </div>\r\n                    {error && <div className=\"has-text-danger\">{error}</div>}\r\n                    <button className=\"button is-link is-medium is-fullwidth mt-4\" onClick={nextClickHandler}>Next</button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Question;"]},"metadata":{},"sourceType":"module"}